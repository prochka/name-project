<?php
 class AddGroup{ public function add() { if(!empty($_POST['group_name'])){ $group_name = trim(strip_tags($_POST['group_name'])); }else{ die(0); } $mysql = Mysql::getInstance(); $group_name = $mysql->quote($group_name); $sql = "INSERT INTO ok_group VALUES(NULL, {$group_name})"; $res = $mysql->exec($sql); if($res > 0) { $last_id = $mysql->lastInsertId(); die($last_id); }else{ die(0); } } public function dell() { $mysql = Mysql::getInstance(); $group_id = intval($_POST['group_id']); $sql = "DELETE FROM ok_group WHERE group_id = {$group_id}"; $mysql->exec($sql); } } session_start(); require 'mysql.php'; if(isset($_SESSION['who']) AND $_SESSION['who'] == "admin"){ $group = new AddGroup(); if(isset($_POST['group_name'])) { $group->add(); }else{ $group->dell(); } }else{ die('Нету прав администратора!'); } ?>